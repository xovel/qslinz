/*!
 * zlw JavaScript Functions v0.1.1Beta
 * zlwJSF_0.1.1.min
 * Copyright (c) Q.s_LinzLand, QsLinz
 * Last Update: 2013.12.23 14:42
 * Using namespace: C/Q
 */
if(!String.prototype.trim){String.prototype.trim=function string_trim(){return this.replace(/(^\s*)|(\s*$)/g,"");}};(function(window){	var m="done";function _i(d){ return document.getElementById(d);};function _f(o){return !!(o&&o.length&&o[0]);};function _$(s,o){if(typeof(s)!=="string")return s||o||document;if(o===null)return null;s=s.trim();var t=_i(s);if(t&&typeof(t)==="object")return t;var p=_f(o)?o[0]:o||document,r=s.split(/\s+/),v=r[0],u,g="*",c="",h="",d=-2;if(r.length===1){if(/#(\w+)/.test(v))return _i(RegExp.$1);if(/(\w+)/.test(v))g = RegExp.$1;if(/:(.+)/.test(v)){h = RegExp.$1;if(/\.([\w.]+).*:/.test(v))c = RegExp.$1;}else{if(/\.([\w.]+)/.test(v))c=RegExp.$1;}if(/\[([+-]?\d+)\]/.test(v))d=parseInt(RegExp.$1,10);var i,j,k=0,b=false,e=p.getElementsByTagName?p.getElementsByTagName(g):null,x=[],y=[];if(!e)return null;if(c!==""){for(i=0,j=e.length;i<j;i++){if(_h(e[i],c.replace(/\./g," ")))x[k++]=e[i];}}else{x=e;}k=x.length;if(k===0)return null;if(d!==-2)return d==-1?x[k-1]:x[d]?x[d]:null;if(h==="")return x;if("~!^".indexOf(h.substring(0,1))!=-1){b=true;h=h.substring(1,h.length);}var q=h.split("|"),w=false,m=0;for(i=0;i<k;i++ ){if(b===true){w=true;for(j=0;j<q.length;j++){if(x[i].outerHTML.indexOf(q[j])!=-1){w=false;break;}}if(w===true)y[m++]=x[i];}else{w=false;for(j=0;j<q.length;j++){if(x[i].outerHTML.indexOf(q[j])!=-1){w=true;break;}}if(w===true)y[m++]=x[i];}}return m===0?null:y;}else{r.shift();u=r.join(" ");return _$(u,_$(v,p));}};function _h(o,c){o=_$(o);if( typeof(o)!=="object"||c===""||typeof(c)!=="string")return false;var _c=c.split(/\s+/),_o=o.className,i,j;for(i=0,j=_c.length;i<j;i++){if(!_o.match(new RegExp("(\\s|^)"+_c[i]+"(\\s|$)")))return false;}return true;};function _a(o,c){o=_$(o);if( typeof(o)!=="object"||c===""||typeof(c)!=="string")return;var _c=c.split(/\s+/),_o=o.className,i,j;for(i=0,j=_c.length;i<j;i++){if(!_o.match(new RegExp("(\\s|^)"+_c[i]+"(\\s|$)")))_o+=" "+_c[i];}if(o.className!==_o)o.className=_o.trim();};function _r(o,c){o=_$(o);if( typeof(o)!=="object"||c===""||typeof(c)!=="string")return;var _c=c.split(/\s+/),_o=o.className.split(/\s+/),i,j,k,m,n=0,v=[],b=false;for(i=0,j=_o.length;i<j;i++ ){b=false;for(k=0,m=_c.length;k<m;k++){if(_c[k]===_o[i]){b=true;break;}}if(!b)v[n++]=_o[i];}o.className=v.join(" ");};function _p(o,v){o=_$(o);o.filters?o.style.filter=(o.currentStyle&&o.currentStyle.filter||"").replace(/alpha\([^)]*\)/,"")+"alpha(opacity="+v+")":o.style.opacity=v/100;};function _c(p,c){if(p.contains){return p!=c&&p.contains(c);}else{return !!(p.compareDocumentPosition(c)&16);}};function _g(e){return e||window.event;};function _m(e,target){if(_g(e).type=="mouseover"){return !_c(target,_g(e).relatedTarget||_g(e).fromElement)&&!((_g(e).relatedTarget||_g(e).fromElement)===target);}else{return !_c(target,_g(e).relatedTarget||_g(e).toElement)&&!((_g(e).relatedTarget||_g(e).toElement)===target);}};function _l(o,s){o=_$(o);s=s||20;C.addEvent(o,"mouseout",function(e){if(m!=="done")return;if(_m(e,this))Fade.Out(o,s);});};function _t(n,o,a,m,b,c){var i,j=n.length,g=!!(o&&o.length&&n.length===o.length);a=a||"active";m=typeof(m)==="string"?m:"normal";_r(n[0],m);_a(n[0],a);for(i=1;i<j;i++){_r(n[i],a);_a(n[i],m);}if(g){C.show(o[0]);for(i=1;i<j;i++){C.hide(o[i]);}};for(i=0;i<j;i++){C.addEvent(n[i],"mouseover",function(e){if(!_m(e,this))return;if(_h(this,a))return;for(i=0;i<j;i++){_r(n[i],a);_a(n[i],m);};_r(this,m);_a(this,a);if(g){for(i=0;i<j;i++){o[i].style.display=_h(n[i],a)?"block":"none";}}});if(b===true){C.addEvent(n[i],"mouseout",function(e){if(!_m(e,this))return;_r(this,a);_a(this,m);});};if(g&&c){C.addEvent(o[i],"mouseout",function(e){if(!_m(e,this))return;typeof(c)==="number"?Fade.Out(this,c):Fade.Out(this);});}}};function _s(o,s){for(var n in s){var v=s[n];if(n=="opacity"&&!-[1,]){var c=o.currentStyle,g=c&&c.filter||"",u="alpha(opacity="+(v*100|0)+")";g=g===""?u:g.replace(/alpha\([^)]*\)/,"")+" "+u;o.style.filter=g;}else if(n=="float"){o.style[!-[1,]?"styleFloat":"cssFloat"]=v;}else{o.style[_z(n)]=v;}}};function _z(s){return s.replace(/-([a-z])/ig,function(all,letter){return letter.toUpperCase();});};var Fade={In:function(o,s,v){o=_$(o);m="over";s=s||20;v=v||100;C.show(o);_p(o,0);var u=0;(function(){_p(o,u);u+=5;if(u<=v){setTimeout(arguments.callee,s);}else{m="done";}})();},Out:function(o,s,v){o=_$(o);m="out";s=s||20;v=v||0;var u=100;(function(){_p(o,u);u-=5;if(u>=v){setTimeout(arguments.callee,s);}else{m="done";if(u<0){C.hide(o);_p(o,100);}}})();}};var C={cur:function(o){o=_$(o);o=o[0]||o;return document.defaultView?document.defaultView.getComputedStyle(o,null):o.currentStyle;},get:function(o,n){o=_$(o);o=o[0]||o;if(document.defaultView ){var s=document.defaultView.getComputedStyle(o,null);return (n in s)?s[n]:s.getPropertyValue(n);}var e=o.style,c=o.currentStyle;if(n=="opacity"){if(/alpha\(opacity=(.*)\)/i.test(c.filter)){var v=parseFloat(RegExp.$1);return v?v/100:0;}return 1;}if(n=="float")n="styleFloat";var r=c[n]||c[_z(n)];if(!/^-?\d+(?:px)?$/i.test(r)&&/^\-?\d/.test(r)){var a=e.left,b=o.runtimeStyle,d=b.left;b.left=c.left;e.left=r||0;r=e.pixelLeft+"px";e.left=a;b.left=d;}return r;},set:function(o,s,v){o=_$(o);if(typeof(o)!=="object")return "error";if(typeof(s)=="string"){var t=s;s={};s[t]=v;}if(!_f(o)){_s(o,s);}else{for(var i=0,j=o.length;i<j;i++){_s(o[i],s);}}},O:function(u){u=u||window.navigator.userAgent;if(/android/i.test(u))return "Android";if(/iphone/i.test(u))return "iPhone";if(/ipad/i.test(u))return "iPad";if(/mac/i.test(u))return "Mac";if(/linux/i.test(u))return "Linux";if(/unix/i.test(u))return "Unix";if(/win/i.test(u)){if(/(Windows NT 5.0)|(Windows 2000)/i.test(u))return "Win2000";if(/(Windows NT 5.1)|(Windows XP)/i.test(u))return "WinXP";if(/(Windows NT 5.2)|(Windows 2003)/i.test(u))return "Win2003";if(/(Windows NT 6.0)|(Windows Vista)/i.test(u))return "WinVista";if(/(Windows NT 6.1)|(Windows 7)/i.test(u))return "Win7";if( /(Windows NT 6.2)|(Windows 8)/i.test(u))return "Win8";if(/Windows NT 6.3/i.test(u))return "Win8 Blue";return "Windows";}return "other";},B:function(u,b){u=u||window.navigator.userAgent;if(/(msie) ([\d.]+)/i.test(u)) return b?RegExp.$1+" "+RegExp.$2:RegExp.$1;if(/(chrome)\/([\d.]+)/i.test(u))return b?RegExp.$1+" "+RegExp.$2:RegExp.$1;if(/(firefox)\/([\d.]+)/i.test(u))return b?RegExp.$1+" "+RegExp.$2:RegExp.$1;if(/(opera).*version\/([\d.]+)/i.test(u))return b?RegExp.$1+" "+RegExp.$2:RegExp.$1;if(/version\/([\d.]+).*(safari)/i.test(u))return b?RegExp.$2 +" "+RegExp.$1:RegExp.$2;return "other";},Q:function(s,n){if(typeof(s)!=="string"||typeof(n)!=="string"||n=="")return "";var r=new RegExp("(^|\\?|&)"+n+"=([^&]*)(\\s|&|$)","i");if(r.test(s))return RegExp.$2.replace(/\+/g," ");return "";},lds:function(u,n,f,p,d){var h=p?_$(p):document.getElementsByTagName("head").item(0),s=document.createElement("script");s.type="text/javascript";s.id=n;if(s.readyState){s.onreadystatechange=function(){if(s.readyState=="loaded"||s.readyState=="complete"){if(d!=="keep")h.removeChild(s);s.onreadystatechange=null;if(typeof(f)==="function")f();};};}else{s.onload=function(){if(d!=="keep")h.removeChild(s);if(typeof(f)==="function")f();};}s.src=u;h.appendChild(s);},D:function(s,d){!d||d==="n"?document.writeln(s):document.write(s);},alwaysInView:function(l,r){l=_$(l);r=_$(r);if(!l||!r)return;var h=document.documentElement.clientHeight,x=l.offsetHeight,y=r.offsetHeight,o=x>y?r:l,d=x>y?l:r,t=o.getBoundingClientRect().top,s=d.getBoundingClientRect().top,b=h-o.getBoundingClientRect().bottom,g=o.style.top?parseInt(o.style.top,10):0,m=Math.abs(x -y),n=0,v=-1;if(x==y)return;if(o.style.position!=="relative")o.style.position="relative";if(t<0&&b>0)v=g+b>=m?m:g+b;if(t>0&&b<0)v=s>=0?0:g-t;if(h>o.offsetHeight){v=-s;v=v<0?0:v>m?m:v;}if(v>=n&&v<=m)o.style.top=v+"px";},show:function(o){o=_$(o);o.style.display="block";},hide:function(o){o=_$(o);o.style.display="none";},mouseo:function(o,f,s,u){s=s||100;if(o){o=_$(o);C.addEvent(o,"mouseover",function(e){if(_m(e,this))if(_$(f).style.display==="none")Fade.In(f,s);});}if(u)_l(f,typeof(u)==="number"?u:20);},sTabs:function(n,o,s,a,m,b,c){var i,j,d=_$(s);if(!_f(d)){_t(_$(n,d),_$(o,d),a,m,b,c);}else{for(i=0,j=d.length;i<j;i++){_t(_$(n,d[i]),_$(o,d[i]),a,m,b,c);}}},addEvent:function(o,t,f){if(o.addEventListener){o.addEventListener(t,f,false);}else if(o.attachEvent){o["e"+t+f]=f;o.attachEvent("on"+t,function(){o["e"+t+f].call(o,window.event);});}else{o["on"+t]=f;}},removeEvent:function(o,t,f){if(o.removeEventListener){o.removeEventListener(t,f,false);}else if(o.detachEvent){o.detachEvent("on"+t,o["e"+t+f]);o["e"+t+f]=null;}else{o["on"+t]=null;}},FadeIn:Fade.In,FadeOut:Fade.Out,$:_$};(function(){if(!-[1,]&&!window.XMLHttpRequest){try{document.execCommand("BackgroundImageCache",false,true);}catch(e){}}})();window.C=C;})(window);

C.addFav = function( url, title ){
		if( !-[1,] ){
			//IE类，直接添加
			window.external.AddFavorite( url, title );
		} else {
			if( window.sidebar || window.chrome ){
				//火狐或者谷歌浏览器，需要自行添加书签
				alert("您的浏览器不支持该操作，请使用Ctrl+D手动设置.")
			}else{
				//其他浏览器将通过模拟点击anchor方式，主要适应opera浏览器，搜狗浏览器等
				var _a = document.createElement("a");
				_a.href = "javascript:window.external.AddFavorite('" + url + "','" + title + "');";
				_a.click();
			}
		}
	};
C.setHomepage = function(pageURL){
		if (document.all) {
			document.body.style.behavior = 'url(#default#homepage)';
			document.body.setHomePage(pageURL);
		} else {
			try { //IE
				netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
			} catch (e) {
				try { //Firefox
					var prefs = Components.classes['@mozilla.org/preferences-service;1'].getService(Components.interfaces.nsIPrefBranch);
					prefs.setCharPref('browser.startup.homepage', pageURL);
				} catch (e) {
					alert("您的浏览器不支持该操作，请使用浏览器菜单手动设置.");
				}
			}
		}
	};
